<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Web Pulsa & Digital Service Modern</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Inter', Arial, sans-serif;
      min-height: 100vh;
      min-width: 100vw;
      position: relative;
      overflow-x: hidden;
      color: #222;
      background: transparent;
    }
    body::before {
      content: "";
      position: fixed;
      top:0; left:0; right:0; bottom:0;
      z-index: -1;
      background: linear-gradient(270deg, #6dd5ed, #2193b0, #ff758c, #ff7eb3, #43cea2, #185a9d);
      background-size: 1400% 1400%;
      animation: gradientBG 16s ease-in-out infinite;
    }
    @keyframes gradientBG {
      0% {background-position:0% 50%}
      25% {background-position:50% 100%}
      50% {background-position:100% 50%}
      75% {background-position:50% 0%}
      100% {background-position:0% 50%}
    }
    nav {
      background: rgba(255,255,255,0.97);
      box-shadow: 0 2px 16px rgba(33,147,176,0.11);
      display: flex;
      gap: 18px;
      align-items: center;
      padding: 14px 18px;
      position: sticky;
      top: 0;
      z-index: 10;
    }
    nav button {
      padding: 8px 18px;
      border-radius: 8px;
      border: none;
      background: #2196f3;
      color: #fff;
      font-weight: 600;
      cursor: pointer;
      font-size: 1em;
      margin-right: 8px;
      transition: background 0.15s;
    }
    nav button:hover {
      background: #1769aa;
    }
    nav input[type="search"] {
      padding: 7px 14px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 1em;
      width: 180px;
      background: #f7fafd;
    }
    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 32px 12px;
    }
    h2 {
      color: #185a9d;
      margin-top: 0;
      font-weight: 700;
      letter-spacing: -1px;
      text-shadow: 0 2px 4px #0001;
    }
    .products {
      display: flex;
      flex-wrap: wrap;
      gap: 28px;
      justify-content: flex-start;
    }
    .product-card {
      background: #fff;
      border-radius: 22px;
      box-shadow: 0 4px 32px 0 rgba(33,147,176,0.07), 0 1.5px 6px #0001;
      padding: 0 0 18px 0;
      width: 230px;
      min-width: 190px;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: box-shadow .18s, transform .14s;
      cursor: pointer;
      position: relative;
    }
    .product-card:hover {
      box-shadow: 0 10px 40px 2px #2193b066, 0 2px 12px #0002;
      transform: translateY(-5px) scale(1.025);
    }
    .product-card img {
      width: 84px;
      height: 84px;
      object-fit: contain;
      border-radius: 16px;
      background: #f6fafd;
      margin-top: 20px;
      margin-bottom: 16px;
      box-shadow: 0 2px 12px #6dd5ed33;
      border: 1.5px solid #e0e9f1;
    }
    .product-card h4 {
      margin: 3px 0 8px 0;
      color: #1976d2;
      font-size: 1.08em;
      font-weight: 600;
      min-height: 36px;
      text-align: center;
      letter-spacing: -0.5px;
    }
    .product-card .cat {
      font-size: 0.97em;
      color: #2193b0;
      margin-bottom: 6px;
    }
    .product-card .price {
      color: #ff758c;
      font-weight: bold;
      font-size: 1.12em;
      margin-bottom: 4px;
    }
    .product-card button {
      margin-top: 8px;
      background: linear-gradient(90deg, #43cea2 60%, #185a9d 100%);
      color: #fff;
      border: none;
      padding: 8px 22px;
      border-radius: 10px;
      font-size: 1em;
      font-weight: 600;
      letter-spacing: 0.3px;
      cursor: pointer;
      box-shadow: 0 2px 12px #43cea244;
      transition: background 0.13s;
    }
    .product-card button:hover {
      background: linear-gradient(90deg, #2193b0 60%, #43cea2 100%);
    }
    .cart-list li {
      margin-bottom: 12px;
      font-size: 1.03em;
    }
    .cart-list button {
      background: #f44336;
      color: #fff;
      border: none;
      padding: 3px 13px;
      border-radius: 8px;
      cursor: pointer;
      margin-left: 12px;
      font-size: .98em;
    }
    .btn-checkout {
      background: linear-gradient(90deg, #25D366 60%, #43cea2 100%);
      color: #fff;
      border: none;
      padding: 12px 32px;
      border-radius: 13px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 22px;
      margin-bottom: 12px;
      font-size: 1.13em;
      box-shadow: 0 2px 12px #25d36633;
      transition: background 0.15s;
    }
    .btn-checkout:hover {
      background: linear-gradient(90deg, #43cea2 60%, #25D366 100%);
    }
    .btn-back {
      background: #1976d2;
      color: #fff;
      border: none;
      padding: 8px 22px;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 14px;
      font-size: .98em;
      box-shadow: 0 2px 8px #2193b055;
    }
    .btn-back:hover {
      background: #185a9d;
    }
    .cart-list, .cart-list li { color: #185a9d; }
    .cart-list b { color: #ff7eb3; }
    .total-b { color: #ff7eb3; }
    /* Tombol chat admin */
    .wa-float {
      position: fixed;
      right: 24px;
      bottom: 24px;
      z-index: 1000;
      background: #25D366;
      color: #fff;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.22);
      text-decoration: none;
      border: 2px solid #fff;
      transition: box-shadow 0.2s;
    }
    .wa-float:hover {
      box-shadow: 0 6px 24px #25d36677;
      filter: brightness(1.1);
    }
    @media (max-width: 700px) {
      .products { flex-direction: column; align-items: center;}
      .product-card { width: 97vw; }
      .container { padding: 10px 2vw;}
    }
    @media (max-width: 430px) {
      nav { flex-direction: column; gap: 10px; }
      .btn-checkout {width: 100%; font-size: 1em; padding: 12px 0;}
    }
  </style>
</head>
<body>
  <nav>
    <button id="btn-home">Beranda</button>
    <input type="search" id="search-kategori" placeholder="Cari Kategori" list="kategori-list" />
    <datalist id="kategori-list"></datalist>
    <button id="btn-cart">Keranjang (<span id="cart-count">0</span>)</button>
  </nav>
  <div class="container">
    <div id="section-home">
      <h2>Daftar Produk Digital</h2>
      <input type="text" id="search-produk" placeholder="Cari produk..." style="margin-bottom:16px;padding:7px 13px;border-radius:7px;border:1px solid #ccc;width:210px;font-size:1em;">
      <div class="products" id="product-list"></div>
    </div>
    <div id="section-cart" style="display:none;">
      <h2>Keranjang Belanja</h2>
      <ul class="cart-list" id="cart-list"></ul>
      <p id="cart-total"></p>
      <button class="btn-checkout" id="btn-checkout">Checkout</button>
      <div>
        <button class="btn-back" id="btn-back">Kembali ke Beranda</button>
      </div>
    </div>
    <div id="section-checkout" style="display:none;">
      <h2>Checkout</h2>
      <p>Pesanan Anda:</p>
      <ul class="cart-list" id="checkout-list"></ul>
      <p id="checkout-total"></p>
      <a target="_blank" id="wa-link">
        <button class="btn-checkout">Checkout via WhatsApp</button>
      </a>
      <div>
        <button class="btn-back" id="btn-back2">Kembali ke Beranda</button>
      </div>
    </div>
  </div>
  <!-- Tombol chat admin -->
  <a href="https://wa.me/6282173914245?text=Halo%20Admin,%20saya%20ingin%20bertanya." class="wa-float" target="_blank" title="Chat Admin via WhatsApp">
    ðŸ’¬
  </a>
  <script>
    // Data (ganti url gambar sesuai kebutuhan)
    const adminWA = "6282173914245";
    const categories = [
      "ALL",
      "Pulsa",
      "Kuota",
      "Token Listrik",
      "VLES",
      "VMES",
      "SSH",
      "Torajan",
      "VPS",
      "Sewa Auto Script"
    ];
    const products = [
      { name: "Pulsa Telkomsel 10K", category: "Pulsa", price: 12000, img: "https://assets.tokopedia.net/img/cache/200-square/product-1/2018/4/2/1799855/1799855_3baf3be3-7d65-4a0b-8b47-0f84ca0c2c33_450_450.jpg" },
      { name: "Pulsa XL 25K", category: "Pulsa", price: 27000, img: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/XL_Axiata_logo.svg/2560px-XL_Axiata_logo.svg.png" },
      { name: "Kuota Internet Indosat 5GB", category: "Kuota", price: 31000, img: "https://cdn-2.tstatic.net/tribunnews/foto/bank/images/logo-indosat-ooredoo.jpg" },
      { name: "Token Listrik 50.000", category: "Token Listrik", price: 55000, img: "https://iconpln.co.id/assets/img/product/token-listrik.png" },
      { name: "VLES 1 Bulan", category: "VLES", price: 15000, img: "https://cdn-icons-png.flaticon.com/512/1149/1149168.png" },
      { name: "VMES 1 Bulan", category: "VMES", price: 20000, img: "https://cdn-icons-png.flaticon.com/512/201/201623.png" },
      { name: "SSH Premium 1 Bulan", category: "SSH", price: 10000, img: "https://cdn-icons-png.flaticon.com/512/1554/1554477.png" },
      { name: "Torajan Pro 1 Bulan", category: "Torajan", price: 25000, img: "https://cdn-icons-png.flaticon.com/512/1068/1068727.png" },
      { name: "VPS 1 Bulan", category: "VPS", price: 70000, img: "https://cdn-icons-png.flaticon.com/512/4248/4248443.png" },
      { name: "Sewa Script Tunneling", category: "Sewa Auto Script", price: 30000, img: "https://cdn-icons-png.flaticon.com/512/5977/5977578.png" }
    ];

    // State
    let selectedCategory = "ALL";
    let cart = [];

    // DOM refs
    const productList = document.getElementById('product-list');
    const cartList = document.getElementById('cart-list');
    const checkoutList = document.getElementById('checkout-list');
    const cartTotal = document.getElementById('cart-total');
    const checkoutTotal = document.getElementById('checkout-total');
    const sectionHome = document.getElementById('section-home');
    const sectionCart = document.getElementById('section-cart');
    const sectionCheckout = document.getElementById('section-checkout');
    const cartCount = document.getElementById('cart-count');
    const waLink = document.getElementById('wa-link');
    const searchProduk = document.getElementById('search-produk');
    const searchKategori = document.getElementById('search-kategori');
    const kategoriList = document.getElementById('kategori-list');

    // Inisialisasi kategori di datalist
    categories.forEach(cat => {
      const opt = document.createElement('option');
      opt.value = cat;
      kategoriList.appendChild(opt);
    });

    // Render produk
    function renderProducts() {
      let keyword = (searchProduk.value || '').toLowerCase();
      let cat = (searchKategori.value || 'ALL');
      selectedCategory = categories.includes(cat) ? cat : "ALL";
      productList.innerHTML = '';
      const filtered = products.filter(prod =>
        (selectedCategory === "ALL" || prod.category === selectedCategory) &&
        prod.name.toLowerCase().includes(keyword)
      );
      if(filtered.length === 0) {
        productList.innerHTML = `<div style="padding:40px 0;font-size:1.2em;color:#fff;text-align:center;width:100%;">Produk tidak ditemukan</div>`;
        return;
      }
      filtered.forEach((prod, idx) => {
        const div = document.createElement('div');
        div.className = 'product-card';
        div.innerHTML = `
          <img src="${prod.img}" alt="${prod.name}" loading="lazy">
          <h4>${prod.name}</h4>
          <div class="cat">${prod.category}</div>
          <div class="price">Rp${prod.price.toLocaleString()}</div>
          <button data-idx="${products.indexOf(prod)}">Tambah ke Keranjang</button>
        `;
        div.querySelector('button').onclick = () => {
          cart.push(prod);
          updateCartCount();
          alert('Berhasil ditambah ke keranjang!');
        };
        productList.appendChild(div);
      });
    }

    // Update jumlah keranjang di navbar
    function updateCartCount() {
      cartCount.textContent = cart.length;
    }

    // Render keranjang
    function renderCart() {
      cartList.innerHTML = '';
      if (cart.length === 0) {
        cartList.innerHTML = '<li>Keranjang kosong</li>';
        cartTotal.textContent = '';
        return;
      }
      cart.forEach((item, idx) => {
        const li = document.createElement('li');
        li.innerHTML = `
          ${item.name} - Rp${item.price.toLocaleString()}
          <button data-idx="${idx}">Hapus</button>
        `;
        li.querySelector('button').onclick = () => {
          cart.splice(idx, 1);
          renderCart();
          updateCartCount();
        };
        cartList.appendChild(li);
      });
      cartTotal.innerHTML = `<span class="total-b"><b>Total: Rp${cart.reduce((a, b) => a + b.price, 0).toLocaleString()}</b></span>`;
    }

    // Render checkout
    function renderCheckout() {
      checkoutList.innerHTML = '';
      if (cart.length === 0) {
        checkoutList.innerHTML = '<li>Keranjang kosong</li>';
        checkoutTotal.textContent = '';
        waLink.href = "#";
        waLink.onclick = (e) => { e.preventDefault(); };
        return;
      }
      cart.forEach(item => {
        const li = document.createElement('li');
        li.textContent = `${item.name} - Rp${item.price.toLocaleString()}`;
        checkoutList.appendChild(li);
      });
      checkoutTotal.innerHTML = `<span class="total-b"><b>Total: Rp${cart.reduce((a, b) => a + b.price, 0).toLocaleString()}</b></span>`;
      let pesan = `Halo Admin, saya ingin checkout pesanan:\n` +
        cart.map((item, idx) =>
          `${idx + 1}. ${item.name} - Rp${item.price.toLocaleString()}`
        ).join('\n') +
        `\nTotal: Rp${cart.reduce((a, b) => a + b.price, 0).toLocaleString()}`;
      waLink.href = `https://wa.me/${adminWA}?text=${encodeURIComponent(pesan)}`;
      waLink.onclick = null;
    }

    // Navigasi
    function showSection(section) {
      sectionHome.style.display = section === "home" ? "" : "none";
      sectionCart.style.display = section === "cart" ? "" : "none";
      sectionCheckout.style.display = section === "checkout" ? "" : "none";
    }

    // Event binding
    document.getElementById('btn-home').onclick = () => {
      showSection('home');
      renderProducts();
    };
    document.getElementById('btn-cart').onclick = () => {
      showSection('cart');
      renderCart();
    };
    document.getElementById('btn-checkout').onclick = () => {
      showSection('checkout');
      renderCheckout();
    };
    document.getElementById('btn-back').onclick = () => {
      showSection('home');
      renderProducts();
    };
    document.getElementById('btn-back2').onclick = () => {
      showSection('home');
      renderProducts();
    };
    searchProduk.oninput = renderProducts;
    searchKategori.oninput = renderProducts;

    // Initial render
    renderProducts();
    updateCartCount();
  </script>
</body>
</html>
